{"version":3,"file":"865.js","mappings":"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","sources":["./src/app/components/home/home.component.ts","./src/app/components/home/home.component.html"],"sourcesContent":["import { Component, ElementRef, ViewChild, AfterViewInit, OnDestroy, computed, effect } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThemeService } from '../../services/theme.service';\nimport { TranslationService } from '../../services/translation.service';\nimport { ButtonComponent } from '../ui/button/button.component';\n\n@Component({\n  selector: 'app-home',\n  standalone: true,\n  imports: [CommonModule, ButtonComponent],\n  templateUrl: './home.component.html',\n  styleUrl: './home.component.scss'\n})\nexport class HomeComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('tradingviewWidget', { static: false }) tradingviewWidget!: ElementRef;\n  private scriptElement: HTMLScriptElement | null = null;\n\n  readonly currentTheme = this.themeService.currentTheme;\n  readonly isDark = computed(() => this.currentTheme() === 'dark');\n  readonly currentLanguage = this.translationService.currentLanguage;\n\n  constructor(\n    private themeService: ThemeService,\n    private translationService: TranslationService\n  ) {\n    // React to theme and language changes and reload widget\n    effect(() => {\n      const theme = this.currentTheme();\n      const language = this.currentLanguage();\n      if (this.tradingviewWidget?.nativeElement && this.scriptElement) {\n        this.reloadWidget();\n      }\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.loadTradingViewWidget();\n  }\n\n  ngOnDestroy(): void {\n    if (this.scriptElement) {\n      this.scriptElement.remove();\n    }\n  }\n\n  toggleTheme(): void {\n    this.themeService.toggleTheme();\n  }\n\n  translate(key: string, params?: Record<string, string>): string {\n    return this.translationService.translate(key, params);\n  }\n\n  private loadTradingViewWidget(): void {\n    if (!this.tradingviewWidget?.nativeElement) {\n      console.error('TradingView container element not found');\n      return;\n    }\n\n    this.createWidget();\n  }\n\n  private reloadWidget(): void {\n    if (this.scriptElement) {\n      this.scriptElement.remove();\n    }\n\n    // Clear the container\n    this.tradingviewWidget.nativeElement.innerHTML = '';\n\n    // Recreate the widget\n    this.createWidget();\n  }\n\n  private createWidget(): void {\n    const isDarkTheme = this.isDark();\n\n    this.scriptElement = document.createElement('script');\n    this.scriptElement.type = 'text/javascript';\n    this.scriptElement.src = 'https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js';\n    this.scriptElement.async = true;\n\n    this.scriptElement.innerHTML = JSON.stringify({\n      \"allow_symbol_change\": true,\n      \"calendar\": false,\n      \"details\": false,\n      \"hide_side_toolbar\": true,\n      \"hide_top_toolbar\": false,\n      \"hide_legend\": false,\n      \"hide_volume\": false,\n      \"hotlist\": false,\n      \"interval\": \"D\",\n      \"locale\": this.translationService.getTradingViewLocale(),\n      \"save_image\": true,\n      \"style\": \"1\",\n      \"symbol\": \"NASDAQ:AAPL\",\n      \"theme\": isDarkTheme ? \"dark\" : \"light\",\n      \"timezone\": \"Etc/UTC\",\n      \"backgroundColor\": isDarkTheme ? \"#1E1E1E\" : \"#FFFFFF\",\n      \"gridColor\": isDarkTheme ? \"rgba(242, 242, 242, 0.06)\" : \"rgba(42, 46, 57, 0.06)\",\n      \"watchlist\": [],\n      \"withdateranges\": false,\n      \"compareSymbols\": [],\n      \"studies\": [],\n      \"autosize\": true\n    });\n\n    this.tradingviewWidget.nativeElement.appendChild(this.scriptElement);\n  }\n}","<div class=\"home-container\">\n  <div class=\"hero-section\">\n    <div class=\"hero-header\">\n      <div class=\"hero-content\">\n        <h1 class=\"hero-title\">{{ translate('welcome.title') }}</h1>\n        <p class=\"hero-subtitle\">{{ translate('welcome.subtitle') }}</p>\n      </div>\n      <ui-button variant=\"ghost\" size=\"medium\" className=\"theme-toggle\" (clicked)=\"toggleTheme()\" [attr.aria-label]=\"translate('theme.switchTo', { mode: isDark() ? translate('theme.light') : translate('theme.dark') })\">\n        @if (isDark()) {\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <circle cx=\"12\" cy=\"12\" r=\"5\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" stroke=\"currentColor\" stroke-width=\"2\"/>\n            <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" stroke=\"currentColor\" stroke-width=\"2\"/>\n          </svg>\n        } @else {\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" stroke=\"currentColor\" stroke-width=\"2\"/>\n          </svg>\n        }\n      </ui-button>\n    </div>\n  </div>\n  \n  <div class=\"trading-widget-container\">\n    <div class=\"widget-header\">\n      <h2>{{ translate('market.overview') }}</h2>\n    </div>\n    <div class=\"tradingview-widget-container\">\n      <div #tradingviewWidget class=\"tradingview-widget-container__widget\"></div>\n      <div class=\"tradingview-widget-copyright\">\n        <a href=\"https://www.tradingview.com/symbols/NASDAQ-AAPL/?exchange=NASDAQ\" rel=\"noopener nofollow\" target=\"_blank\">\n          <span class=\"blue-text\">AAPL chart by TradingView</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>"],"names":["computed","effect","CommonModule","ButtonComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","HomeComponent","constructor","themeService","translationService","scriptElement","currentTheme","isDark","currentLanguage","theme","language","tradingviewWidget","nativeElement","reloadWidget","ngAfterViewInit","loadTradingViewWidget","ngOnDestroy","remove","toggleTheme","translate","key","params","console","error","createWidget","innerHTML","isDarkTheme","document","createElement","type","src","async","JSON","stringify","getTradingViewLocale","appendChild","ɵɵdirectiveInject","i1","ThemeService","i2","TranslationService","selectors","viewQuery","HomeComponent_Query","rf","ctx","ɵɵtext","ɵɵlistener","HomeComponent_Template_ui_button_clicked_8_listener","ɵɵrestoreView","_r1","ɵɵresetView","ɵɵtemplate","HomeComponent_Conditional_9_Template","HomeComponent_Conditional_10_Template","ɵɵadvance","ɵɵtextInterpolate","ɵɵconditional","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}